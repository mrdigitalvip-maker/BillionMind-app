<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BillionMind - Rumo ao Primeiro Milhão</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <!-- Stripe -->
    <script src="https://js.stripe.com/v3/"></script>
    <script>
        window.stripe = Stripe(pk_live_51SUcWyARia0ROQXBNtGEA1oNXFLA5I1Gt6J7btUDyYSpz0wLbh22kB1YxpYIY7UKX9ASRm0QYON8Q5wVt7HZoHlt00RKl52oLS); 
        window.price_pro = "price_1SYaniARia0ROQXBL4xAFQBo"; 
        window.price_vip = "price_1SYaspARia0ROQXBunnpCkml";
    </script>
<body class="bg-black text-white min-h-screen antialiased flex flex-col items-center">

    <!-- Configuração Customizada do Tailwind CSS para Cores Premium/Luxo -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'neon-purple': '#9B51E0',
                        'gold': '#F2C94C',
                        'charcoal': '#1a1a1a',
                        'bg-dark': '#0a0a0a',
                        'glass-bg': 'rgba(10, 10, 10, 0.6)',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    boxShadow: {
                        'neon-gold': '0 0 15px rgba(242, 201, 76, 0.7)',
                        'neon-purple-soft': '0 0 10px rgba(155, 81, 224, 0.6)',
                        'inner-glass': 'inset 0 1px 0 rgba(255, 255, 255, 0.15)',
                    }
                }
            }
        }
    </script>

    <!-- Estilos Customizados -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            background: radial-gradient(circle at center, #111 0%, #000 100%);
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
        }
        .glass-card {
            background-color: var(--tw-color-glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 6px rgba(0,0,0,0.3), var(--tw-box-shadow-inner-glass);
            border-radius: 1rem;
        }
    </style>

    <!-- INÍCIO DO APP -->
    <div id="app" class="relative w-full max-w-md mx-auto min-h-screen flex flex-col pb-24">

        <!-- Cabeçalho -->
        <header class="sticky top-0 z-10 w-full pt-6 px-4 bg-black/80 backdrop-blur-sm">
            <div class="relative w-full flex flex-col items-end justify-center pb-2">
                <button id="vip-badge" class="flex items-center space-x-2 p-2 rounded-full glass-card border-gold/50 cursor-pointer hover:shadow-neon-gold text-sm transition" onclick="showVipModal()">
                    <span class="gold-glow text-gold font-bold">VIP</span>
                    <i class="ph-fill ph-crown text-gold gold-glow text-xl"></i>
                </button>
            </div>
        </header>

        <!-- Conteúdo -->
        <main class="flex-grow p-4 space-y-6 overflow-y-auto">             <!-- Tab 1: HOJE -->
            <section id="tab-hoje" class="tab-content active space-y-6">

                <!-- Título BILLIONMIND já centralizado -->
                <div class="w-full flex flex-col items-center justify-center pt-2 pb-4">
                    <h1 id="main-title" class="text-4xl sm:text-5xl font-extrabold tracking-wider"
                        style="background: linear-gradient(90deg,#FFD700,#F0E68C,#FFD700);
                        -webkit-background-clip:text;-webkit-text-fill-color:transparent;
                        text-shadow:0 0 8px rgba(242,201,76,.5); font-size:clamp(2.5rem,10vw,3.5rem);">
                        BILLIONMIND
                    </h1>

                    <p class="text-xs sm:text-sm text-gray-400 mt-1 font-light italic text-center">
                        Sua rotina. Seu poder. Seu futuro milionário.
                    </p>
                </div>

                <!-- Carrossel -->
                <div id="testimonial-carousel"
                    class="relative w-full h-24 overflow-hidden flex items-center justify-center"></div>

                <!-- Barra de status -->
                <div id="profile-status"
                    class="glass-card p-4 flex justify-between items-center text-sm font-semibold">
                    <div class="flex items-center space-x-2">
                        <i class="ph-bold ph-lightning text-neon-purple neon-icon text-xl"></i>
                        <span class="text-gray-300">Nível XP: 
                            <span id="xp-display" class="text-white font-extrabold">0</span>
                        </span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <i class="ph-bold ph-fire text-gold gold-glow text-xl"></i>
                        <span class="text-gray-300">Disciplina: 
                            <span id="energy-display" class="text-white font-extrabold">100%</span>
                        </span>
                    </div>
                </div>

                <!-- Frase do dia -->
                <div class="glass-card p-5 border-neon-purple/50">
                    <h2 class="text-xs uppercase text-neon-purple font-bold mb-2 tracking-widest">
                        MENTALIDADE DE RIQUEZA
                    </h2>
                    <p id="daily-quote" class="text-lg italic font-medium text-gray-200">
                        "A disciplina é a ponte entre metas e a realidade do seu milhão."
                    </p>
                </div>

                <!-- Rotinas de Elite -->
                <h2 class="text-xl font-bold text-white mb-4">Rotinas de Elite</h2>

                <div id="habits-list" class="space-y-4">
                    <!-- Itens são carregados automaticamente via JS -->
                </div>

            </section>

            <!-- Tab 2: PLANEJAR -->
            <section id="tab-planejar" class="tab-content hidden space-y-6">

                <h2 class="text-2xl font-extrabold text-gold gold-glow mb-6">Planejamento de Riqueza</h2>

                <!-- Criar hábito via IA -->
                <button class="w-full btn-premium p-4 rounded-xl flex items-center justify-center space-x-3"
                        onclick="showAlphaAIModal('habit')">
                    <i class="ph-fill ph-sparkle text-xl"></i>
                    <span>CRIAR HÁBITO DE ELITE com AlphaAI</span>
                </button>

                <!-- Desafios -->
                <div class="space-y-4">
                    <h3 class="text-xl font-bold text-white">Desafios de Milhões (VIP)</h3>

                    <div class="glass-card p-4 border-neon-purple/50">
                        <h4 class="font-bold text-lg text-gold">Desafio 7 Dias: Foco Implacável</h4>
                        <p class="text-xs text-gray-400 mb-2">Meta: 10 horas de foco profundo por dia.</p>
                        <div class="flex justify-between items-center text-xs text-gray-300">
                            <span>Progresso: 57%</span>
                            <i class="ph-bold ph-chart-line text-neon-purple"></i>
                        </div>
                        <progress class="w-full h-1 progress-bar-gold mt-1" value="57" max="100"></progress>
                    </div>

                </div>

            </section>

            <!-- Tab 3: AMIGOS -->
            <section id="tab-amigos" class="tab-content hidden space-y-6">
                <h2 class="text-2xl font-extrabold text-gold gold-glow mb-6">Comunidade Alpha</h2>

                <div class="glass-card p-6 text-center border-gold/50">
                    <i class="ph-bold ph-users-three text-gold gold-glow text-5xl mb-3"></i>
                    <h3 class="text-xl font-bold text-white mb-2">Construa Seu Círculo de Elite</h3>
                    <p class="text-gray-400 mb-4">
                        Conecte-se com visionários no caminho do primeiro milhão.
                    </p>

                    <button class="w-full btn-premium p-3 rounded-lg flex items-center justify-center space-x-2"
                            onclick="showVipModal()">
                        <i class="ph-fill ph-crown text-xl"></i>
                        <span>Adicionar VIPs ao seu Círculo</span>
                    </button>
                </div>
            </section>

            <!-- Tab 4: MENU -->
            <section id="tab-menu" class="tab-content hidden space-y-6">
                <h2 class="text-2xl font-extrabold text-gold gold-glow mb-6">Central de Comando</h2>

                <div class="glass-card p-4 space-y-4 border-neon-purple/50">
                    <h3 class="text-xl font-bold text-neon-purple neon-icon flex items-center space-x-2">
                        <i class="ph-fill ph-sparkle text-2xl"></i>
                        <span>AlphaAI - Seu Coach Milionário</span>
                    </h3>

                    <div id="ai-chat-window"
                        class="h-64 overflow-y-auto bg-bg-dark rounded-lg p-3 space-y-3 text-sm">
                        <div class="text-gold font-bold">AlphaAI:</div>
                        <p class="text-gray-300">
                            Bem-vindo. Qual é o seu objetivo de riqueza hoje?
                        </p>
                    </div>

                    <div class="flex space-x-2">
                        <input id="ai-chat-input" type="text"
                            placeholder="Pergunte sobre riqueza, rotina ou disciplina..."
                            class="flex-grow p-2 rounded-lg bg-charcoal border border-neon-purple/50 text-white">
                        <button id="ai-chat-send-btn"
                            class="bg-neon-purple p-2 rounded-lg text-white font-bold"
                            onclick="sendAlphaAIChat()">
                            <i class="ph-bold ph-paper-plane-right text-lg"></i>
                        </button>
                    </div>

                </div>
            </section>
<!-- SCRIPT FINAL DO STRIPE PARA CHECKOUT -->
<script>
document.addEventListener("DOMContentLoaded", function () {

    const stripe = window.stripe;

    // IDs dos planos
    const PRICE_PRO = window.price_pro;
    const PRICE_VIP = window.price_vip;

    // Botões
    const btnPro = document.getElementById("btn-pro");
    const btnVip = document.getElementById("btn-vip");

    if (btnPro) {
        btnPro.addEventListener("click", async () => {
            const session = await fetch("/api/checkout_pro", {
                method: "POST",
            }).then(res => res.json());

            await stripe.redirectToCheckout({
                sessionId: session.id
            });
        });
    }

    if (btnVip) {
        btnVip.addEventListener("click", async () => {
            const session = await fetch("/api/checkout_vip", {
                method: "POST",
            }).then(res => res.json());

            await stripe.redirectToCheckout({
                sessionId: session.id
            });
        });
    }

});
</script>

</body>
</html>

